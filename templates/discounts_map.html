{% extends "integrate_docs.html" %}
{% block IntegrateContent %}
<form id="params">
    <h2>Discount Heat Map</h2>
    <p>A quick example of how powerful visualizing our Haggle data is. <br>
        OAuth token is automatically added. <a href="#">Login</a> to use your own token.</p>
    <div class="well">
        <div class="well-title">TOKEN</div>
        <div class="well-content">f377b77df0584f68a445080edda6a436</div>
    </div>
    <h4>Try it out</h4>
    <div class="endpoints-parameters">
        <div class="grid-2">
            <h5>Latitude</h5>
            <input class="endpoints-input">
            <h5>Longitude</h5>
            <input class="endpoints-input">
            <h5>Radius (in meters)</h5>
            <input class="endpoints-input">
            <button class="btn">Submit</button>
        </div>
        <div class="map" id="map-canvas">
        </div>
        <div>
            <h3>Response</h3>
			<div style="min-height: 60px; padding-top: 22px">
				<img src="/assets/img/loading_indicator.gif" id="loading_indicator" hidden="hidden"/>
			</div>
        </div>
    </div>
</form>
{% endblock %}

{% block Scripts %}
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyAnvLqTCbA5jqAEf060MUI6Ng0WHbsS91w&sensor=false"></script>
    <script type="text/javascript">
    var map;
    function initialize() {
      var mapOptions = {
        zoom: 14,
        center: new google.maps.LatLng(40.743258,-73.983829)
      };

      map = new google.maps.Map(document.getElementById('map-canvas'),
          mapOptions);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <script type="text/javascript">
        var endpoint = "discounts";
    </script>
    <script src='/assets/js/web/documentation/discounts_map_fetch.js' type='text/javascript'></script>
    <script src='/assets/js/web/documentation/fetch-token.js' type='text/javascript'></script>
{% endblock %}